<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="ui/options.css">
  <title>PseudoShield â€” Options</title>
</head>
<body>
  <div class="options-container">

    <!-- Header -->
    <header class="options-header">
      <div class="options-title">
        <img src="icons/icon-48.png" alt="" class="options-icon">
        <h1>PseudoShield</h1>
        <span class="version-badge">v2.0.0</span>
      </div>
    </header>

    <!-- Tab navigation -->
    <nav class="tab-nav">
      <button class="tab-btn active" data-tab="tab-correspondance">ğŸ“‹ Correspondance</button>
      <button class="tab-btn" data-tab="tab-patterns">ğŸ” Patterns</button>
      <button class="tab-btn" data-tab="tab-sites">ğŸŒ Sites</button>
      <button class="tab-btn" data-tab="tab-journal">ğŸ“Š Journal RGPD</button>
    </nav>

    <!-- Tab 1: Correspondance -->
    <section id="tab-correspondance" class="tab-panel active">
      <div class="panel-header">
        <h2 class="panel-title">Table de correspondance</h2>
        <div class="panel-actions">
          <input type="text" id="correspondence-search" class="input-search" placeholder="Rechercher un pseudonyme ou catÃ©gorie...">
          <button class="btn btn-secondary" id="correspondence-export-csv">ğŸ“¥ Exporter CSV</button>
        </div>
      </div>
      <div class="table-wrapper">
        <table class="data-table">
          <thead>
            <tr>
              <th>Pseudonyme</th>
              <th>CatÃ©gorie</th>
              <th>Art. RGPD</th>
              <th>PremiÃ¨re dÃ©tection</th>
              <th>Occurrences</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="correspondence-tbody">
            <tr><td colspan="6" class="empty-cell">Aucune donnÃ©e</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Tab 2: Patterns -->
    <section id="tab-patterns" class="tab-panel">
      <div class="panel-header">
        <h2 class="panel-title">Configuration des patterns</h2>
        <p class="panel-description">Activez ou desactivez les patterns de detection par categorie.</p>
      </div>

      <!-- Seuil de confiance -->
      <div class="confidence-section">
        <h3 class="section-subtitle">Seuil de confiance</h3>
        <p class="section-description">Controlez la sensibilite de la detection. Un seuil strict reduit les faux positifs.</p>
        <div class="confidence-options">
          <label class="confidence-option">
            <input type="radio" name="confidence-threshold" value="high">
            <span class="confidence-label">Strict</span>
            <span class="confidence-desc">Haute confiance uniquement â€” minimum de faux positifs</span>
          </label>
          <label class="confidence-option">
            <input type="radio" name="confidence-threshold" value="medium" checked>
            <span class="confidence-label">Equilibre</span>
            <span class="confidence-desc">Haute + moyenne confiance â€” recommande</span>
          </label>
          <label class="confidence-option">
            <input type="radio" name="confidence-threshold" value="low">
            <span class="confidence-label">Agressif</span>
            <span class="confidence-desc">Toutes les detections â€” detection maximale</span>
          </label>
        </div>
      </div>

      <div id="patterns-container"></div>
    </section>

    <!-- Tab 3: Sites -->
    <section id="tab-sites" class="tab-panel">
      <div class="panel-header">
        <h2 class="panel-title">Sites surveillÃ©s</h2>
        <p class="panel-description">GÃ©rez les domaines sur lesquels la pseudonymisation est active.</p>
      </div>
      <div class="site-toggle-section">
        <label class="toggle-switch">
          <input type="checkbox" id="all-sites-toggle">
          <span class="toggle-slider"></span>
        </label>
        <span class="site-toggle-label">Actif sur tous les sites</span>
      </div>
      <div class="site-add-section">
        <input type="text" id="add-site-input" class="input-field" placeholder="exemple.com">
        <button class="btn btn-secondary" id="add-site-btn">+ Ajouter</button>
      </div>
      <div id="sites-list" class="sites-list"></div>
    </section>

    <!-- Tab 4: Journal RGPD -->
    <section id="tab-journal" class="tab-panel">
      <div class="panel-header">
        <h2 class="panel-title">Journal RGPD</h2>
        <p class="panel-description">Registre des traitements de pseudonymisation conformÃ©ment au RGPD.</p>
      </div>
      <div class="journal-filters">
        <div class="filter-row">
          <div class="filter-group">
            <label class="filter-label" for="journal-date-from">Du</label>
            <input type="date" id="journal-date-from" class="input-field">
          </div>
          <div class="filter-group">
            <label class="filter-label" for="journal-date-to">Au</label>
            <input type="date" id="journal-date-to" class="input-field">
          </div>
          <div class="filter-group filter-group-grow">
            <label class="filter-label" for="journal-site-filter">Site</label>
            <input type="text" id="journal-site-filter" class="input-field" placeholder="Filtrer par URL...">
          </div>
          <button class="btn btn-secondary" id="journal-filter-btn">Filtrer</button>
        </div>
      </div>
      <div class="table-wrapper">
        <table class="data-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>URL</th>
              <th>Remplacements</th>
              <th>Art. 4</th>
              <th>Art. 9</th>
              <th>Patterns</th>
            </tr>
          </thead>
          <tbody id="journal-tbody">
            <tr><td colspan="6" class="empty-cell">Aucune entrÃ©e</td></tr>
          </tbody>
        </table>
      </div>
      <div class="journal-actions">
        <button class="btn btn-secondary" id="journal-export-csv">ğŸ“¥ Exporter CSV</button>
        <button class="btn btn-secondary" id="journal-export-json">ğŸ“¥ Exporter JSON</button>
        <button class="btn btn-danger" id="journal-purge">ğŸ—‘ï¸ Purger le journal</button>
      </div>
    </section>

    <!-- Footer -->
    <footer class="options-footer">
      PseudoShield v2.0.0 Â· <a href="https://lawgitech.eu" target="_blank" rel="noopener">lawgitech.eu</a> Â· <a href="https://maitrejv.github.io/pseudoshield/privacy.html" target="_blank" rel="noopener">Politique de confidentialite</a>
    </footer>

  </div>

  <script src="options.js"></script>
</body>
</html>
